<!-- start team -->
<section class="section bg-light" [id]="sectionsInfo.team.id">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="text-center mb-5">
                    <h3 class="mb-3 fw-semibold">
                        <span class="text-danger">{{'BASE.TEAMS.THE_TEAM'| baseTranslate}}</span>
                    </h3>
                    <p class="text-muted mb-4 ff-secondary">{{'CUSTOM.SITE.ANON.HOME.TEAM.DESCRIPTION'| baseTranslate}}</p>
                </div>
            </div>
        </div>
        <!-- end row -->
        <div class="row">
          <ng-container *ngIf="team$ | async as team">
            <ng-container *ngFor="let data of team.slice(0,8);let i=index">

              <div class="col-lg-3 col-sm-6">
                <div class="card">
                  <div class="card-body text-center p-4">
                    <div class="avatar-xl mx-auto mb-4 position-relative">
                      <!-- ✅ REFACTORED: Using ResourceUrlService -->
                      <!-- Development: Theme asset paths -->
                      <!-- Production (future): Signed URLs from API -->
                      <img [src]="getUserPhotoUrl(data.imageName) | async" alt="" class="img-fluid rounded-circle">
                      <!-- ⚠️ Still using appsConfiguration for messages navigation -->
                      <!-- TODO: Use nav.messages.inbox when expanded -->
                      <a href="{{this.appsConfiguration.navigation.messages}}" class="btn btn-success btn-sm position-absolute bottom-0 end-0 rounded-circle avatar-xs">
                        <div class="avatar-title bg-transparent">
                          <i class="ri-mail-fill align-bottom"></i>
                        </div>
                      </a>
                    </div>
                    <!-- end card body -->
                    <!-- ⚠️ Still using appsConfiguration for user settings -->
                    <!-- TODO: Use nav.settings.user when ready -->
                    <h5 class="mb-1"><a href="{{this.appsConfiguration.navigation.settings.user}}" class="text-body">{{data.title}}</a></h5>
                    <p class="text-muted mb-0 ff-secondary">{{data.role}}</p>
                  </div>
                </div>
                <!-- end card -->
              </div>

            </ng-container>
          </ng-container>
        </div>
        <!-- end row -->
        <div class="row">
            <div class="col-lg-12">
                <div class="text-center mt-2">
                  <!-- ✅ UPDATED: Using PRIVATE_NAVIGATION (teams.root) -->
                  <a [routerLink]="nav.teams.root"
                     class="btn btn-primary">
                    {{'BASE.ACTIONS.VIEW_ALL'| baseTranslate}} {{'BASE.MEMBERSHIPS.PLURAL' | baseTranslate }}
                    <i class="ri-arrow-right-line ms-1 align-bottom"></i>
                  </a>
                </div>
            </div>
        </div>
        <!-- end row -->
    </div>
    <!-- end container -->
</section>
<!-- end team -->

<!-- Form Renderer - Wrapper around Formly -->
<div class="form-renderer" [class.loading]="loading">
  <!-- Loading Overlay -->
  <div *ngIf="loading" class="loading-overlay">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <!-- Form -->
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <formly-form 
      [form]="form" 
      [fields]="fields" 
      [model]="internalModel">
    </formly-form>
    
    <!-- Form Actions -->
    <div *ngIf="showActions && mode !== 'view'" class="form-actions d-flex justify-content-end gap-2 mt-4 pt-3 border-top">
      <button 
        type="button" 
        class="btn btn-outline-secondary" 
        (click)="onCancel()"
        [disabled]="loading">
        {{cancelLabel}}
      </button>
      <button 
        type="submit" 
        class="btn btn-primary" 
        [disabled]="!form.valid || loading">
        <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
        {{submitLabel}}
      </button>
    </div>
  </form>
</div>

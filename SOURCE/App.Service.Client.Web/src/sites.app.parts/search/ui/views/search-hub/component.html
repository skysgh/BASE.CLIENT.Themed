<!-- Search Hub - Global Search using BrowseView -->
<div class="search-hub container-fluid">
  <!-- Header: Title -->
  <div class="search-header mb-4">
    <h4 class="mb-0">
      <i class="bx bx-search me-2 text-primary"></i>
      Search
    </h4>
  </div>

  <!-- BrowseView - handles search, filter, order, results -->
  <app-browse-view
    [cards]="cards()"
    [loading]="loading()"
    [fields]="fieldDefinitions"
    [emptyMessage]="searchQuery ? 'No results found for your search' : 'Enter a search term to find items'"
    [emptyIcon]="'bx bx-search-alt'"
    [showSearch]="true"
    [searchQuery]="searchQuery"
    [searchPlaceholder]="'Search across all items...'"
    [showFilterPanel]="true"
    [filters]="filters()"
    [showOrderPanel]="true"
    [sorts]="sorts()"
    [viewMode]="viewMode"
    [page]="page()"
    [pageSize]="pageSize()"
    [totalCount]="totalCount()"
    (searchChange)="onSearchChange($event)"
    (searchClear)="onSearchClear()"
    (filtersChange)="onFiltersChange($event)"
    (sortsChange)="onSortsChange($event)"
    (apply)="onApply()"
    (viewModeChange)="setViewMode($event)"
    (pageChange)="onPageChange($event)"
    (cardClick)="onCardClick($event)"
    (cardAction)="onCardAction($event)">
    
    <!-- Empty state actions slot -->
    <ng-container emptyActions>
      @if (!searchQuery) {
        <p class="text-muted">Enter a search term above to find items across all categories</p>
      } @else {
        <button class="btn btn-outline-primary mt-3" (click)="onSearchClear()">
          Clear Search
        </button>
      }
    </ng-container>
  </app-browse-view>
</div>
